<!doctype html>
<html lang="pt-BR" class="hide-scrollbar">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no, maximum-scale=1" />
    
    <!-- iOS Safe Area -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    
    <!-- Android -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="theme-color" content="#272726" />
    
    <!-- Favicon -->
    <link rel="icon" href="/favicon.png" type="image/png" />
    <link rel="apple-touch-icon" href="/favicon.png" />
    
    <title>Horah - Seu assistente de agenda</title>
    <meta name="description" content="Horah é seu assistente inteligente para criar lembretes e compromissos. Nunca mais esqueça nada importante." />
    <meta name="author" content="Horah" />

    <meta property="og:title" content="Horah" />
    <meta property="og:description" content="Seu assistente inteligente de agenda" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@Horah" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />
  </head>

  <body>
    <script>
      // Detectar tema e aplicar background + classe imediatamente
      (function() {
        var isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        var theme = localStorage.getItem('theme');
        if (theme === 'light') isDark = false;
        else if (theme === 'dark') isDark = true;
        
        document.documentElement.classList.add(isDark ? 'dark' : 'light');
        
        // Gradiente desde o início - nunca mais cor sólida
        var gradient = 'linear-gradient(180deg, #4ECDC4 0%, #0a1628 100%)';
        document.body.style.background = gradient;
        
        var spinnerColor = isDark ? 'rgba(255,255,255,0.5)' : 'rgba(0,0,0,0.3)';
        var spinnerTopColor = isDark ? 'white' : '#333';
        document.documentElement.style.setProperty('--initial-spinner-color', spinnerColor);
        document.documentElement.style.setProperty('--initial-spinner-top', spinnerTopColor);
      })();
    </script>
    
    <style>
      @keyframes initial-spin {
        to { transform: rotate(360deg); }
      }
      #initial-splash {
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
      }
      #initial-splash .spinner {
        width: 24px;
        height: 24px;
        border: 2px solid var(--initial-spinner-color, rgba(255,255,255,0.3));
        border-top-color: var(--initial-spinner-top, white);
        border-radius: 50%;
        animation: initial-spin 1s linear infinite;
      }
      /* Prevent white flash - #root always has background */
      #root {
        min-height: 100vh;
        min-height: 100dvh;
        background: inherit;
      }
      html, body {
        min-height: 100vh;
        min-height: 100dvh;
      }
    </style>
    
    <div id="initial-splash">
      <div class="spinner"></div>
    </div>
    
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
